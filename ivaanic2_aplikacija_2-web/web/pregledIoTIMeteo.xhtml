<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <f:view locale="#{lokalizator.odabraniJezik}" > 
        <h:head>
            <title>Facelet Title</title>
        </h:head>
        <h:body>

            <h:form id="forma">
                <h1>#{m.uredaji}</h1>

                <h:commandButton value="#{m.uredaji}"  action="pregledIoTIMateo" /> 
                <h:commandButton value="#{m.odjava}"  action="index" /> 
                <h:commandButton value="#{m.naredbe}"  action="naredbe" /> 
                <h:commandButton value="E-mail" action="pregledMailova"/>
                <h:commandButton value="#{m.korisnici}" action="korisnici"/>
                <h:commandButton value="#{m.jezik}" action="promjenaJezika"/> 

                <br/>
                <br/>
                <div style="display: inline-block;display: table-cell;">
                    <h:outputLabel value="ID: " /><br/>
                    <h:inputText id="id" value="#{pregledIoTIMeteo.id}"/>
                    <br/>
                    <h:outputLabel  value="#{m.uredaji_naziv}" />
                    <br/>
                    <h:inputText id="naziv" value="#{pregledIoTIMeteo.naziv}"/>
                    <br/>
                    <h:outputLabel value="Latitude " />
                    <br/>
                    <h:inputText  id="lat" value="#{pregledIoTIMeteo.lat}"/> 
                    <br/>
                    <h:outputLabel  value="Longitude"/> 
                    <br/>
                    <h:inputText id="lon" value="#{pregledIoTIMeteo.lon}"/> 



                    <h:commandButton value="#{m.azuriraj}" action="#{pregledIoTIMeteo.azurirajUredaj()}" >
                        <f:ajax execute="id naziv lat lon" render="forma" />
                    </h:commandButton>
                    <h:commandButton value="#{m.dodaj}" action="#{pregledIoTIMeteo.dodajUredaj()}" >
                        <f:ajax execute="id naziv lat lon" render="forma" />
                    </h:commandButton>


                    <h:dataTable id="sviKorisnici" value="#{pregledIoTIMeteo.uredaji}" var="o"
                                 styleClass="order-table"
                                 headerClass="order-table-header"
                                 rowClasses="order-table-odd-row,order-table-even-row">
                        <h:column>
                            <!-- column header -->
                            <f:facet name="header">Id</f:facet>
                            <!-- row record -->
                            #{o.id}
                        </h:column>

                        <h:column>
                            <f:facet name="header">Latitude</f:facet>
                                #{o.geoloc.latitude}
                        </h:column>

                        <h:column>
                            <f:facet name="header">Longitude</f:facet>
                                #{o.geoloc.longitude}
                        </h:column>

                        <h:column>
                            <f:facet name="header"  >#{m.uredaji_naziv}</f:facet>
                                #{o.naziv}
                        </h:column>

                    </h:dataTable></div> 
                <div style="margin-left:50px;width:400px;display: inline-block; display: table-cell; vertical-align: top;">
                    <h:outputLabel value="ID:"/><br/>
                    <h:inputText id="id2" value="#{pregledIoTIMeteo.idGeo}"/><br/>
                    <h:commandButton value="#{m.gekodiraj}" action="#{pregledIoTIMeteo.geokoder()}" >
                        <f:ajax execute="id2" render="forma" />
                    </h:commandButton>

                    <br/>
                    <br/>
                    <br/>


                    <h:outputText style="color:green" value="#{pregledIoTIMeteo.geoAdresa}"  /><br/><br/>
                    <h:outputLabel value="ID: "/> <br/>
                    <h:inputText id="id3" value="#{pregledIoTIMeteo.idn}"/><br/>
                    <h:outputLabel value="N: " style="margin-left: 100px"/><br/>
                    <h:inputText id="n" value="#{pregledIoTIMeteo.n}"/>
                    <h:commandButton value="#{m.dohvati}" action="#{pregledIoTIMeteo.dohvatiNmeteoPodataka()}" >
                        <f:ajax execute="n id3" render="forma" />
                    </h:commandButton>

                    <h:dataTable id="sviMEteo" value="#{pregledIoTIMeteo.meteo}" var="o"
                                 styleClass="order-table"
                                 headerClass="order-table-header"
                                 rowClasses="order-table-odd-row,order-table-even-row"
                                 >

                        <h:column>
                            <!-- column header -->
                            <f:facet name="header">Id</f:facet>
                            <!-- row record -->
                            #{o.temperatureValue}
                        </h:column>

                        <h:column>
                            <f:facet name="header">#{m.vlaga}</f:facet>
                                #{o.humidityValue}
                        </h:column>

                        <h:column>
                            <f:facet name="header">#{m.tlak}</f:facet>
                                #{o.pressureValue}
                        </h:column>

                        <h:column>
                            <f:facet name="header">#{m.vrijeme}</f:facet>
                                #{o.weatherIcon}
                        </h:column>

                    </h:dataTable>
                    <br/>
                    <h:outputLabel value="ID: "/>
                    <br/>

                    <h:inputText id="id4" value="#{pregledIoTIMeteo.idVazeci}"/> 
                    <h:commandButton value="#{m.dohvati}" action="#{pregledIoTIMeteo.dohvatiVazece()}" >
                        <f:ajax execute="id4" render="forma" />
                    </h:commandButton>

                    <br/>
                    <br/>

                    <h:dataTable id="sviVazeci" value="#{pregledIoTIMeteo.vazeci}" var="o">

                        <h:column>

                            <f:facet name="header">Id</f:facet>
                            <!-- row record -->
                            #{o.temperatureValue}
                        </h:column>

                        <h:column>
                            <f:facet name="header">#{m.vlaga}</f:facet>
                                #{o.humidityValue}
                        </h:column>

                        <h:column>
                            <f:facet name="header">#{m.tlak}</f:facet>
                                #{o.pressureValue}
                        </h:column>

                        <h:column>
                            <f:facet name="header">#{m.vrijeme}</f:facet>
                                #{o.weatherIcon}
                        </h:column>

                    </h:dataTable>
                </div>

            </h:form>
        </h:body>
    </f:view>
</html>

